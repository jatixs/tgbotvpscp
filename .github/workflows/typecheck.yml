name: Type Checking (mypy)

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  mypy:
    name: Run Mypy Type Checker
    runs-on: ubuntu-latest
    steps:
      - name: ‚¨áÔ∏è Checkout code
        uses: actions/checkout@v4

      - name: üêç Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10' # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç

      - name: üì¶ Install mypy and dependencies
        run: |
          pip install mypy
          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∏–ø–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)
          pip install types-requests # –ü—Ä–∏–º–µ—Ä –¥–ª—è requests
          # –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
          pip install -r requirements.txt # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

      - name: ü§î Run Mypy
        run: mypy . --ignore-missing-imports --explicit-package-bases
        # --ignore-missing-imports –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ—Ç —Ñ–∞–π–ª–æ–≤ —Ç–∏–ø–æ–≤
        # --explicit-package-bases –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≤–∞—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏–º–ø–æ—Ä—Ç–æ–≤